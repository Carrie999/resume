{"ast":null,"code":"import _classCallCheck from \"/Users/bytedance/Desktop/my-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/bytedance/Desktop/my-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/bytedance/Desktop/my-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/bytedance/Desktop/my-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/bytedance/Desktop/my-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/Users/bytedance/Desktop/my-admin/src/pages/Login/star.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\n\nvar MeteorShower = /*#__PURE__*/function (_React$Component) {\n  _inherits(MeteorShower, _React$Component);\n\n  var _super = _createSuper(MeteorShower);\n\n  function MeteorShower() {\n    var _temp, _this;\n\n    _classCallCheck(this, MeteorShower);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _possibleConstructorReturn(_this, (_temp = _this = _super.call.apply(_super, [this].concat(args)), _this.componentDidMount = function () {\n      var context;\n      var arr = new Array();\n      var starCount = 800;\n      var rains = new Array();\n      var rainCount = 20; //初始化画布及context\n\n      function init() {\n        //获取canvas\n        var stars = document.getElementById(\"stars\");\n        var windowWidth = window.innerWidth; //当前的窗口的高度\n\n        stars.width = windowWidth;\n        stars.height = window.innerHeight; //获取context\n\n        context = stars.getContext(\"2d\");\n      }\n\n      var windowWidth = window.innerWidth; //当前的窗口的高度\n      //创建一个星星对象\n\n      var Star = function Star() {\n        var windowWidth = window.innerWidth; //当前的窗口的高度\n\n        this.x = windowWidth * Math.random(); //横坐标\n\n        this.y = 5000 * Math.random(); //纵坐标\n\n        this.text = \".\"; //文本\n\n        this.color = \"white\"; //颜色\n        //产生随机颜色\n\n        this.getColor = function () {\n          var _r = Math.random();\n\n          if (_r < 0.5) {\n            this.color = \"#333\";\n          } else {\n            this.color = \"white\";\n          }\n        }; //初始化\n\n\n        this.init = function () {\n          this.getColor();\n        }; //绘制\n\n\n        this.draw = function () {\n          context.fillStyle = this.color;\n          context.fillText(this.text, this.x, this.y);\n        };\n      }; //画月亮\n      // function drawMoon(){\n      //  var moon = new Image();\n      //      moon.src = \"./images/moon.jpg\"\n      //       context.drawImage(moon,-5,-10);\n      // }\n      //星星闪起来\n\n\n      function playStars() {\n        for (var n = 0; n < starCount; n++) {\n          arr[n].getColor();\n          arr[n].draw();\n        }\n\n        setTimeout(function () {\n          playStars();\n        }, 100);\n      } //绘制流星\n\n\n      function playRains() {\n        for (var n = 0; n < rainCount; n++) {\n          var rain = rains[n];\n          rain.move(); //移动\n\n          if (rain.y > window.innerHeight) {\n            //超出界限后重来\n            context.clearRect(rain.x, rain.y - rain.height, rain.width, rain.height);\n            rains[n] = new MeteorRain();\n            rains[n].init();\n          }\n        }\n\n        setTimeout(function () {\n          playRains();\n        }, 2);\n      }\n      /*流星雨开始*/\n\n\n      var MeteorRain = function MeteorRain() {\n        this.x = -1;\n        this.y = -1;\n        this.length = -1; //长度\n\n        this.angle = 30; //倾斜角度\n\n        this.width = -1; //宽度\n\n        this.height = -1; //高度\n\n        this.speed = 1; //速度\n\n        this.offset_x = -1; //横轴移动偏移量\n\n        this.offset_y = -1; //纵轴移动偏移量\n\n        this.alpha = 1; //透明度\n\n        this.color1 = \"\"; //流星的色彩\n\n        this.color2 = \"\"; //流星的色彩\n\n        /****************初始化函数********************/\n\n        this.init = function () //初始化\n        {\n          this.getPos();\n          this.alpha = 1; //透明度\n\n          this.getRandomColor(); //最小长度，最大长度\n\n          var x = Math.random() * 50;\n          this.length = Math.ceil(x); //                  x = Math.random()*10+30;\n\n          this.angle = 30; //流星倾斜角\n\n          x = Math.random() + 0.5;\n          this.speed = Math.ceil(x); //流星的速度\n\n          var cos = Math.cos(this.angle * 3.14 / 180);\n          var sin = Math.sin(this.angle * 3.14 / 180);\n          this.width = this.length * cos; //流星所占宽度\n\n          this.height = this.length * sin; //流星所占高度\n\n          this.offset_x = this.speed * cos;\n          this.offset_y = this.speed * sin;\n        };\n        /**************获取随机颜色函数*****************/\n\n\n        this.getRandomColor = function () {\n          var a = Math.ceil(255 - 240 * Math.random()); //中段颜色\n\n          this.color1 = \"rgba(\" + a + \",\" + a + \",\" + a + \",1)\"; //结束颜色\n\n          this.color2 = \"black\";\n        };\n        /***************重新计算流星坐标的函数******************/\n\n\n        this.countPos = function () //\n        {\n          //往左下移动,x减少，y增加\n          this.x = this.x - this.offset_x;\n          this.y = this.y + this.offset_y;\n        };\n        /*****************获取随机坐标的函数*****************/\n\n\n        this.getPos = function () //\n        {\n          //横坐标200--1200\n          this.x = Math.random() * window.innerWidth; //窗口高度\n          //纵坐标小于600\n\n          this.y = Math.random() * window.innerHeight; //窗口宽度\n        };\n        /****绘制流星***************************/\n\n\n        this.draw = function () //绘制一个流星的函数\n        {\n          context.save();\n          context.beginPath();\n          context.lineWidth = 1; //宽度\n\n          context.globalAlpha = 0.2; //设置透明度\n          //创建横向渐变颜色,起点坐标至终点坐标\n\n          var line = context.createLinearGradient(this.x, this.y, this.x + this.width, this.y - this.height); //分段设置颜色\n\n          line.addColorStop(0, \"white\");\n          line.addColorStop(0.6, \"#c6e0e6\"); //line.addColorStop(0.6, this.color2);\n\n          context.strokeStyle = line; //起点\n\n          context.moveTo(this.x, this.y); //终点\n\n          context.lineTo(this.x + this.width, this.y - this.height);\n          context.closePath();\n          context.stroke();\n          context.restore();\n        };\n\n        this.move = function () {\n          //清空流星像素\n          var x = this.x + this.width - this.offset_x;\n          var y = this.y - this.height;\n          context.clearRect(x - 3, y - 3, this.offset_x + 5, this.offset_y + 5); //                  context.strokeStyle=\"red\";\n          //                  context.strokeRect(x,y-1,this.offset_x+1,this.offset_y+1);\n          //重新计算位置，往左下移动\n\n          this.countPos(); //透明度增加\n\n          this.alpha -= 0.002; //重绘\n\n          this.draw();\n        };\n      }; //页面加载的时候\n\n\n      function ccyy() {\n        init(); //画星星\n\n        for (var i = 0; i < starCount; i++) {\n          var star = new Star();\n          star.init();\n          star.draw();\n          arr.push(star);\n        } //画流星\n\n\n        for (var i = 0; i < rainCount; i++) {\n          var rain = new MeteorRain();\n          rain.init();\n          rain.draw();\n          rains.push(rain);\n        } //drawMoon();//绘制月亮\n\n\n        playStars(); //绘制闪动的星星\n\n        playRains(); //绘制流星\n      }\n\n      ccyy();\n    }, _temp));\n  }\n\n  _createClass(MeteorShower, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"canvas\", {\n        id: \"stars\",\n        width: \"1920\",\n        height: \"847\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n\n  return MeteorShower;\n}(React.Component);\n\nexport default MeteorShower;","map":{"version":3,"sources":["/Users/bytedance/Desktop/my-admin/src/pages/Login/star.js"],"names":["React","MeteorShower","componentDidMount","context","arr","Array","starCount","rains","rainCount","init","stars","document","getElementById","windowWidth","window","innerWidth","width","height","innerHeight","getContext","Star","x","Math","random","y","text","color","getColor","_r","draw","fillStyle","fillText","playStars","n","setTimeout","playRains","rain","move","clearRect","MeteorRain","length","angle","speed","offset_x","offset_y","alpha","color1","color2","getPos","getRandomColor","ceil","cos","sin","a","countPos","save","beginPath","lineWidth","globalAlpha","line","createLinearGradient","addColorStop","strokeStyle","moveTo","lineTo","closePath","stroke","restore","ccyy","i","star","push","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nclass MeteorShower extends React.Component {\n  componentDidMount=()=>{\n    var context;\n    var arr = new Array();\n    var starCount = 800;\n    \n    var rains = new Array();\n    var rainCount =20;\n    \n    //初始化画布及context\n    function init(){\n        //获取canvas\n        var stars = document.getElementById(\"stars\");\n        var windowWidth = window.innerWidth; //当前的窗口的高度\n        stars.width=windowWidth;\n        stars.height=window.innerHeight;\n        //获取context\n        context = stars.getContext(\"2d\");\n    }\n      var windowWidth = window.innerWidth; //当前的窗口的高度\n    //创建一个星星对象\n    var Star = function (){\n        var windowWidth = window.innerWidth; //当前的窗口的高度\n        this.x = windowWidth * Math.random();//横坐标\n        this.y = 5000 * Math.random();//纵坐标\n        this.text=\".\";//文本\n        this.color = \"white\";//颜色\n      \n        //产生随机颜色\n        this.getColor=function(){\n    \n            var _r = Math.random();\n    \n            if(_r<0.5){\n                this.color = \"#333\";\n            }else{\n                this.color = \"white\";\n            }\n    \n        }\n    \n        //初始化\n        this.init=function(){\n            this.getColor();\n        }\n        //绘制\n        this.draw=function(){\n            context.fillStyle=this.color;\n            context.fillText(this.text,this.x,this.y);\n        }\n        \n    }\n    \n     //画月亮\n    // function drawMoon(){\n       //  var moon = new Image();\n       //      moon.src = \"./images/moon.jpg\"\n      //       context.drawImage(moon,-5,-10);\n    // }\n    \n    \n    \n    \n     //星星闪起来\n    function playStars(){\n        for (var n = 0; n < starCount; n++){  \n            arr[n].getColor();  \n            arr[n].draw();  \n        }  \n          setTimeout(function () {  \n             playStars();  \n           },100);\n    }\n     \n    \n      \n    //绘制流星\n    function playRains(){\n    \n        for (var n = 0; n < rainCount; n++){  \n            var rain = rains[n];\n            rain.move();//移动\n            if(rain.y>window.innerHeight){//超出界限后重来\n                context.clearRect(rain.x,rain.y-rain.height,rain.width,rain.height);\n                rains[n] = new MeteorRain();\n                rains[n].init();\n            }\n        }  \n        \n    \n         setTimeout(function () {  \n              playRains() \n           },2);\n    }\n    \n    \n    \n      /*流星雨开始*/\n    \n    var MeteorRain = function(){\n          this.x = -1;\n          this.y = -1;\n          this.length = -1;//长度\n          this.angle = 30; //倾斜角度\n          this.width = -1;//宽度\n          this.height = -1;//高度\n          this.speed = 1;//速度\n          this.offset_x = -1;//横轴移动偏移量\n          this.offset_y = -1;//纵轴移动偏移量\n          this.alpha = 1; //透明度\n          this.color1 = \"\";//流星的色彩\n          this.color2 = \"\";  //流星的色彩\n      /****************初始化函数********************/\n      this.init = function () //初始化\n      {\n          this.getPos();\n          this.alpha = 1;//透明度\n          this.getRandomColor();\n          //最小长度，最大长度\n          var x = Math.random() * 50 ;\n          this.length = Math.ceil(x);\n    //                  x = Math.random()*10+30;\n          this.angle = 30; //流星倾斜角\n          x = Math.random()+0.5;\n          this.speed = Math.ceil(x); //流星的速度\n          var cos = Math.cos(this.angle*3.14/180);\n          var sin = Math.sin(this.angle*3.14/180) ;\n          this.width = this.length*cos ;  //流星所占宽度\n          this.height = this.length*sin ;//流星所占高度\n          this.offset_x = this.speed*cos ;\n          this.offset_y = this.speed*sin;\n      }\n    \n      /**************获取随机颜色函数*****************/\n      this.getRandomColor = function (){\n          var a = Math.ceil(255-240* Math.random()); \n          //中段颜色\n          this.color1 = \"rgba(\"+a+\",\"+a+\",\"+a+\",1)\";\n          //结束颜色\n          this.color2 = \"black\";\n      }\n    \n    \n       /***************重新计算流星坐标的函数******************/\n      this.countPos = function ()//\n      {\n          //往左下移动,x减少，y增加\n          this.x = this.x - this.offset_x;\n          this.y = this.y + this.offset_y;\n      }\n    \n      /*****************获取随机坐标的函数*****************/\n      this.getPos = function () //\n      {\n          //横坐标200--1200\n         \n          this.x = Math.random() * window.innerWidth; //窗口高度\n          //纵坐标小于600\n          this.y = Math.random() * window.innerHeight;  //窗口宽度\n      }\n       /****绘制流星***************************/\n      this.draw = function () //绘制一个流星的函数\n      {\n          context.save();\n          context.beginPath();\n          context.lineWidth = 1; //宽度\n          context.globalAlpha = 0.2; //设置透明度\n          //创建横向渐变颜色,起点坐标至终点坐标\n          var line = context.createLinearGradient(this.x, this.y, \n              this.x + this.width, \n              this.y - this.height);\n    \n          //分段设置颜色\n          line.addColorStop(0, \"white\");\n          line.addColorStop(0.6, \"#c6e0e6\");\n          //line.addColorStop(0.6, this.color2);\n          context.strokeStyle = line;\n          //起点\n          context.moveTo(this.x, this.y);\n          //终点\n          context.lineTo(this.x + this.width, this.y - this.height);\n          context.closePath();\n          context.stroke();\n          context.restore();\n      }\n      this.move = function(){\n          //清空流星像素\n          var x = this.x+this.width-this.offset_x;\n          var y = this.y-this.height;\n          context.clearRect(x-3,y-3,this.offset_x+5,this.offset_y+5); \n    //                  context.strokeStyle=\"red\";\n    //                  context.strokeRect(x,y-1,this.offset_x+1,this.offset_y+1);\n          //重新计算位置，往左下移动\n          this.countPos();\n          //透明度增加\n          this.alpha -= 0.002;\n          //重绘\n          this.draw(); \n      }\n      \n    }\n    \n    //页面加载的时候\n    function ccyy(){\n        init();\n        //画星星\n        for (var i=0;i<starCount;i++) {\n            var star = new Star();\n            star.init();\n            star.draw();\n            arr.push(star);\n        }\n    \n        //画流星\n        for (var i=0;i<rainCount;i++) {\n            var rain = new MeteorRain();\n            rain.init();\n            rain.draw();\n            rains.push(rain);\n        }\n    \n        //drawMoon();//绘制月亮\n        playStars();//绘制闪动的星星\n        playRains();//绘制流星\n    \n    }\n    ccyy();\n    \n    \n    \n  }\n  render() {  \n    return (\n      <div>\n        <canvas id=\"stars\" width=\"1920\" height=\"847\"></canvas>\n      </div>\n    );\n  }\n}\n\nexport default MeteorShower;"]},"metadata":{},"sourceType":"module"}