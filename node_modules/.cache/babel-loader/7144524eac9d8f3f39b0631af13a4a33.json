{"ast":null,"code":"import _classCallCheck from \"/Users/bytedance/Desktop/my-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/bytedance/Desktop/my-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/bytedance/Desktop/my-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/bytedance/Desktop/my-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/bytedance/Desktop/my-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/bytedance/Desktop/my-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/Users/bytedance/Desktop/my-admin/src/components/SideBar/index.js\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n/**\n *\n * SideBar\n *\n */\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Menu, Icon, Switch, Button } from 'antd';\nimport styles from './styles/index.module.less';\nimport sidebarData from './sidebarData';\nvar SubMenu = Menu.SubMenu; // const MenuItemGroup = Menu.ItemGroup;\n// import PropTypes from 'prop-types';\n\nvar Store = require('locallyjs').Store,\n    store = new Store();\n\nvar Sidebar = /*#__PURE__*/function (_React$Component) {\n  _inherits(Sidebar, _React$Component);\n\n  var _super = _createSuper(Sidebar);\n\n  function Sidebar(props) {\n    var _this;\n\n    _classCallCheck(this, Sidebar);\n\n    _this = _super.call(this, props); // console.log(window.location.pathname)\n\n    _this.getChildren = function (children) {\n      return children.map(function (child) {\n        if (child.hasOwnProperty('list')) {\n          return /*#__PURE__*/React.createElement(SubMenu, {\n            key: child.id,\n            title: /*#__PURE__*/React.createElement(\"span\", {\n              __self: _assertThisInitialized(_this),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 27,\n                columnNumber: 44\n              }\n            }, /*#__PURE__*/React.createElement(Icon, {\n              type: child.icon,\n              __self: _assertThisInitialized(_this),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 27,\n                columnNumber: 50\n              }\n            }), /*#__PURE__*/React.createElement(\"span\", {\n              __self: _assertThisInitialized(_this),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 27,\n                columnNumber: 78\n              }\n            }, child.tit)),\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 27,\n              columnNumber: 11\n            }\n          }, child.list.map(function (list, index) {\n            return /*#__PURE__*/React.createElement(Menu.Item, {\n              key: index,\n              __self: _assertThisInitialized(_this),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 30,\n                columnNumber: 17\n              }\n            }, /*#__PURE__*/React.createElement(Link, {\n              to: '/' + list.link,\n              __self: _assertThisInitialized(_this),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 31,\n                columnNumber: 19\n              }\n            }, list.tit));\n          }));\n        } else {\n          if (child.show === false) return; // 如果是普通用户，看不到用户管理\n\n          if (store.get('role_id') === 10 && child.tit === '用户管理') return;\n          return /*#__PURE__*/React.createElement(Menu.Item, {\n            key: child.id,\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 11\n            }\n          }, /*#__PURE__*/React.createElement(Link, {\n            to: '/' + child.link,\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(Icon, {\n            type: child.icon,\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 15\n            }\n          }), /*#__PURE__*/React.createElement(Icon, {\n            type: \"null\",\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 15\n            }\n          }), /*#__PURE__*/React.createElement(\"span\", {\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 15\n            }\n          }, child.tit)));\n        }\n      });\n    };\n\n    _this.routeMapComp = function (item) {\n      // 一些隐藏路径\n      if (item === 'tasks/new') return 'tasks';\n      if (item === 'labels') return 'tasks';\n\n      if (!item.includes('/')) {\n        return item;\n      } else {\n        var route = '',\n            flag = 0;\n\n        var _iterator = _createForOfIteratorHelper(item),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var i = _step.value;\n\n            if (i === '/' || flag === 1) {\n              flag = 1;\n\n              if (i !== '/' && flag === 1) {\n                route = route + i.toUpperCase();\n                flag = 0;\n              }\n            } else {\n              route = route + i;\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n\n        return route;\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Sidebar, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Menu, {\n        selectedKeys: [this.routeMapComp(window.location.pathname.toString().slice(1))],\n        defaultSelectedKeys: ['1'],\n        defaultOpenKeys: ['sub1'],\n        mode: \"inline\",\n        theme: \"dark\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }\n      }, sidebarData.map(function (item) {\n        var children = item.children;\n        return _this2.getChildren(children);\n      })));\n    }\n  }]);\n\n  return Sidebar;\n}(React.Component);\n\nSidebar.propTypes = {};\nexport default Sidebar;","map":{"version":3,"sources":["/Users/bytedance/Desktop/my-admin/src/components/SideBar/index.js"],"names":["React","Link","Menu","Icon","Switch","Button","styles","sidebarData","SubMenu","Store","require","store","Sidebar","props","getChildren","children","map","child","hasOwnProperty","id","icon","tit","list","index","link","show","get","routeMapComp","item","includes","route","flag","i","toUpperCase","window","location","pathname","toString","slice","Component","propTypes"],"mappings":"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","sourcesContent":["/**\n *\n * SideBar\n *\n */\n\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Menu, Icon, Switch, Button, } from 'antd';\nimport styles from './styles/index.module.less';\nimport sidebarData from './sidebarData';\nconst SubMenu = Menu.SubMenu;\n// const MenuItemGroup = Menu.ItemGroup;\n// import PropTypes from 'prop-types';\nconst Store = require('locallyjs').Store,\n      store = new Store()\n\nclass Sidebar extends React.Component {\n  constructor(props){\n    super(props)\n    // console.log(window.location.pathname)\n  }\n  getChildren = (children) => {\n    return children.map((child)=>{\n      if(child.hasOwnProperty('list')){\n        return ( \n          <SubMenu key={ child.id } title={<span><Icon type={ child.icon } /><span>{ child.tit }</span></span>}>\n            {child.list.map((list, index)=>{\n              return (\n                <Menu.Item key={ index }>\n                  <Link to={ '/' + list.link }>\n                    { list.tit }\n                  </Link>\n                </Menu.Item>\n              )\n            })}\n          </SubMenu>\n        )\n      } else {\n        if(child.show === false) return\n        // 如果是普通用户，看不到用户管理\n        if(store.get('role_id') === 10 && child.tit === '用户管理') return\n        return ( \n          <Menu.Item key={ child.id }>\n            <Link to={ '/' + child.link }>\n              <Icon type={ child.icon }  />\n              <Icon type='null' />\n              <span>{ child.tit }</span>\n            </Link>\n          </Menu.Item>\n        )\n      }\n    })\n  }\n  \n  routeMapComp = (item)=>{\n    // 一些隐藏路径\n    if(item === 'tasks/new') return 'tasks'\n    if(item === 'labels') return 'tasks'\n    if(!item.includes('/')){\n      return item\n    }else{\n      let route = '', flag = 0\n      for (let i of item) {\n        if(i === '/' || flag === 1) {\n          flag = 1\n          if(i !== '/' && flag === 1){\n            route = route + i.toUpperCase()\n            flag = 0\n          }\n        }else{\n          route = route + i\n        }\n      }\n\n      return route \n    }\n  \n  }\n  render() {\n    return (\n      <div >\n        <Menu\n          selectedKeys= {[this.routeMapComp(window.location.pathname.toString().slice(1,))]}\n          defaultSelectedKeys={['1']}\n          defaultOpenKeys={['sub1']}\n          mode=\"inline\"\n          theme=\"dark\"\n        >\n        {\n          sidebarData.map((item)=>{\n            const { children } = item\n            return this.getChildren(children)\n          })  \n        }\n        </Menu>\n      </div>\n    );\n  }\n}\n\n\nSidebar.propTypes = {};\n\nexport default Sidebar\n"]},"metadata":{},"sourceType":"module"}